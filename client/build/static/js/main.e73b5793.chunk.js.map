{"version":3,"sources":["Header.tsx","ProductsData.ts","StateContainer.tsx","TodoList.tsx","TodoListContainer.tsx","TodoInput.tsx","TodoInputContainer.tsx","Figure.tsx","FigureDistribution.tsx","App.tsx","SimulationPage.tsx","NotFoundPage.tsx","accueil/FigureDistributionBrute.tsx","accueil/FigureMutualisee.tsx","accueil/AccueilPage.tsx","Biblio/Biblio.tsx","Routes.tsx","index.tsx"],"names":["withRouter","props","_React$useState","React","_React$useState2","Object","slicedToArray","setSearch","searchParams","URLSearchParams","location","search","get","react","className","NavLink","to","activeClassName","products","description","id","name","price","initialTodos","tranche","taux","ratioPartDecesIni","heritageBruteData","x","h","nextId","Math","max","apply","toConsumableArray","map","t","updateHeritage","todos","heritageBrute","xNext","hNext","tauxL","trancheL","hBruteN","hBruteL","xBruteN","xBruteL","heritagePrev","heritageNew","iTranche","iHeritageBrute","heritageMutualiseTotal","tauxN","trancheN","contrDebutTranche","length","console","log","push","heritageNewPlusMutuel","_i","xh","heritageNet","StateContext","StateContainer","state","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","updateHeritageNet","setState","ret","deleteTodo","produce","index","findIndex","todo","splice","addTodo","prevState","trancheAdd","tauxAdd","entryOk","errormessageloc","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","olddo","value","err","return","sortedTodo","concat","sort","leftSide","rightSide","errormessage","changeAddEntry","changeRatio","ratio","ratioPartDeces","changeAddTaux","context","actions","Provider","children","StateConsumer","Consumer","TodoList","width","key","type","onClick","handleDelete","title","step","onChange","e","handleRatioChange","target","valueAsNumber","min","TodoListContainer","_ref","src_TodoList","TodoInput","handleChange","handleChangeTaux","handleSubmit","TodoInputContainer","src_TodoInput","Figure","xvalue","yvalue","yvalue2","contribution","itranche","tranches","todoData","xMax","tauxPrec","tranchePrec","tr","react_plotly_default","a","data","y","mode","marker","color","style","height","layout","autosize","FigureDistribution","xvalue2","yvalue3","hBrute","heritage","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","hNet","hMut","xaxis","fixedrange","range","yaxis","App","round","_ref2","src_FigureDistribution","_ref3","src_Figure","ProductsPage","src_StateContainer","NotFoundPage","FigureDistributionBrute","AccueilPage","viewHandler","_callee","regenerator_default","wrap","_context","prev","axios","method","responseType","then","response","file","Blob","fileURL","URL","createObjectURL","window","open","catch","error","stop","accueil_FigureDistributionBrute","FigureMutualisee","Biblio","Routes","__webpack_require__","bind","src_Header","react_transition_group","timeout","classNames","Switch","Redirect","exact","from","Route","path","component","SimulationPage","RoutesWrap","BrowserRouter","ReactDOM","render","react_default","createElement","src_Routes","document","getElementById"],"mappings":"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","file":"static/js/main.e73b5793.chunk.js","sourcesContent":["import * as React from \"react\";\r\nimport { NavLink, RouteComponentProps, withRouter } from \"react-router-dom\";\r\nimport \"url-search-params-polyfill\";\r\n\r\nconst Header: React.SFC<RouteComponentProps> = props => {\r\n  const [search, setSearch] = React.useState(\"\");\r\n  React.useEffect(() => {\r\n    const searchParams = new URLSearchParams(props.location.search);\r\n    setSearch(searchParams.get(\"search\") || \"\");\r\n  }, []);\r\n\r\n  const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setSearch(e.currentTarget.value);\r\n  };\r\n\r\n  const handleSearchKeydown = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (e.key === \"Enter\") {\r\n      props.history.push(`/products?search=${search}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <nav>\r\n        <NavLink\r\n          to=\"/accueil\"\r\n          className=\"header-link\"\r\n          activeClassName=\"header-link-active\"\r\n        >\r\n              Accueil\r\n        </NavLink>      \r\n        <NavLink\r\n          to=\"/simulation\"\r\n          className=\"header-link\"\r\n          activeClassName=\"header-link-active\"\r\n        >\r\n          Simulateur\r\n        </NavLink>\r\n        <NavLink\r\n          to=\"/biblio\"\r\n          className=\"header-link\"\r\n          activeClassName=\"header-link-active\"\r\n        >\r\n          Bibliographie\r\n        </NavLink>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default withRouter(Header);\r\n","export interface IProduct {\r\n  id: number;\r\n  name: string;\r\n  description: string;\r\n  price: number;\r\n}\r\n\r\nexport const products: IProduct[] = [\r\n  {\r\n    description:\r\n      \"A collection of navigational components that compose declaratively with your app\",\r\n    id: 1,\r\n    name: \"React Router\",\r\n    price: 8\r\n  },\r\n  {\r\n    description: \"A library that helps manage state across your app\",\r\n    id: 2,\r\n    name: \"React Redux\",\r\n    price: 12\r\n  },\r\n  {\r\n    description: \"A library that helps you interact with a GraphQL backend\",\r\n    id: 3,\r\n    name: \"React Apollo\",\r\n    price: 12\r\n  }\r\n];\r\n","import * as React from \"react\";\r\nimport produce from \"immer\";\r\n\r\nimport { ITodo, IHeritage } from \"./types\";\r\n \r\n// Define the shape of the state. It might be more convenient to embed\r\n// the 'completed' state inside the Todo interface. However, this way it allows\r\n// for demonstration of a map in the state together with a selector to merge\r\n// the data.\r\ninterface IState {\r\n  todos: ITodo[];\r\n  trancheAdd: number;\r\n  tauxAdd: number;\r\n  errormessage: string;\r\n  heritageBrute: IHeritage[];\r\n  heritageMutualiseTotal: number;\r\n  heritageNet: IHeritage[];\r\n  ratioPartDeces: number;\r\n}\r\n\r\n// Define the shape of the context. This is what gets consumed by components\r\n// who wish to get access to the state. You can create selectors and actions\r\n// to provide encapsulated getters and setters.\r\ninterface IContext {\r\n  state: IState;\r\n  actions: {\r\n    changeAddEntry: (tranche: number) => void;\r\n    changeAddTaux: (taux: number) => void;      \r\n    addTodo: () => void;\r\n    deleteTodo: (id: number) => void;\r\n    changeRatio: (ratio: number) => void;\r\n  };\r\n}\r\n\r\nexport const initialTodos = [\r\n  { id: 1, tranche: 100000, taux: 20 },\r\n  { id: 2, tranche: 250000, taux: 40},\r\n  { id: 3, tranche: 500000, taux: 60},\r\n  { id: 4, tranche: 750000, taux: 80},\r\n  { id: 5, tranche: 1000000, taux: 95}\r\n];\r\n\r\nexport const ratioPartDecesIni  = 1.5;\r\n\r\nexport const heritageBruteData = [\r\n  { x: 0, h: 0  },\r\n  { x: 10, h: 1001.9267822878209},\r\n  { x: 20, h: 12023},\r\n  { x: 30, h: 48092},\r\n  { x: 40, h: 90173},\r\n  { x: 50, h: 150289},\r\n  { x: 60, h: 250481},\r\n  { x: 70, h: 310597},\r\n  { x: 80, h: 480924},\r\n  { x: 90, h: 811560},\r\n  { x: 95, h: 1322543},\r\n  { x: 99, h: 2785356},\r\n  { x: 99.5, h: 6272061},\r\n  { x: 99.9, h: 8356069},\r\n  { x: 100, h: 46950289}\r\n];\r\n\r\n// Calculate the last ID in the todoList for use in generating new IDs.\r\nlet nextId = Math.max(...initialTodos.map(t => t.id)) + 1;\r\n\r\nexport interface IReturn {\r\n    heritageMutualiseTotal: number,\r\n    heritageNet: IHeritage[]\r\n}\r\nexport function updateHeritage(todos: ITodo[], heritageBrute: IHeritage[]): IReturn {\r\n    var heritageNew: IHeritage[] = [{x: 0, h: 0}];\r\n    var iTranche: number = -1;\r\n    var iHeritageBrute: number = 0;\r\n    var xNext: number;\r\n    var hNext: number;\r\n    var heritageMutualiseTotal: number = 0;\r\n    var tauxL: number, tauxN: number = 0;\r\n    var trancheL: number, trancheN: number = 0;\r\n    var hBruteN: number, hBruteL: number;\r\n    var xBruteN: number, xBruteL: number;\r\n    var contrDebutTranche: number = 0;\r\n    var heritagePrev: IHeritage;\r\n    while (iHeritageBrute < heritageBrute.length - 1){\r\n    heritagePrev = heritageNew[heritageNew.length - 1]\r\n    hBruteN = heritageBrute[iHeritageBrute + 1].h\r\n    hBruteL = heritageBrute[iHeritageBrute].h\r\n    xBruteN = heritageBrute[iHeritageBrute + 1].x\r\n    xBruteL = heritageBrute[iHeritageBrute].x\r\n    if (iTranche === -1) {\r\n        trancheL = 0;\r\n        tauxL = 0;\r\n    }else{\r\n        trancheL = todos[iTranche].tranche;\r\n        tauxL = todos[iTranche].taux;\r\n    }\r\n    if (iTranche < todos.length - 1) {\r\n        trancheN = todos[iTranche + 1].tranche;\r\n        tauxN = todos[iTranche + 1].taux;\r\n    }else{\r\n        trancheN = 200000000000000000000\r\n    }\r\n    while (hBruteN > trancheN) {\r\n        xNext = xBruteL + (xBruteN - xBruteL) * (trancheN - hBruteL) / (hBruteN - hBruteL); \r\n        console.log(\"coucou2\")  \r\n        console.log(\"heritageMutualiseTotalBefore \" + heritageMutualiseTotal )\r\n        heritageMutualiseTotal += (xNext - heritagePrev.x) / 100 * \r\n            (contrDebutTranche + (hBruteL + trancheN - 2 * trancheL) / 2 * tauxL / 100);\r\n        console.log((xNext - heritagePrev.x))\r\n        console.log(\"xNext             \" + xNext)      \r\n        console.log(\"heritagePrev.x    \" + heritagePrev.x)\r\n        console.log(\"heritagePrev.h    \" + heritagePrev.h)\r\n        console.log(\"contrDebutTranche \" + contrDebutTranche)\r\n        console.log(\"hBruteL           \" + hBruteL)\r\n        console.log(\"hBruteN           \" + hBruteN)\r\n        console.log(\"trancheL          \" + trancheL)\r\n        console.log(\"tauxL             \" + tauxL)\r\n        console.log(\"heritageMutualiseTotal \" + heritageMutualiseTotal )\r\n        contrDebutTranche += (trancheN - trancheL) * tauxL / 100;\r\n        hNext = trancheN - contrDebutTranche;\r\n        heritageNew.push({x: xNext, h: hNext});\r\n        heritagePrev = {x: xNext, h: hNext};\r\n        iTranche ++;\r\n        hBruteL = trancheN;\r\n        xBruteL = xNext\r\n        trancheL = trancheN;\r\n        tauxL = tauxN;\r\n        if (iTranche < todos.length - 1) {    \r\n            trancheN = todos[iTranche + 1].tranche;\r\n            tauxN = todos[iTranche + 1].taux;\r\n            } else {\r\n                trancheN = 1000000000000000000              \r\n            }\r\n    }\r\n    xNext = xBruteN;\r\n    \r\n    heritageMutualiseTotal += (xNext - heritagePrev.x) * \r\n        (contrDebutTranche + (hBruteL + hBruteN - 2 * trancheL) / 2 * tauxL / 100) / 100;\r\n    console.log(\"coucou\")   \r\n    console.log(\"xNext             \" + xNext)      \r\n    console.log(\"heritagePrev.x    \" + heritagePrev.x)\r\n    console.log(\"heritagePrev.h    \" + heritagePrev.h)\r\n    console.log(\"contrDebutTranche \" + contrDebutTranche)\r\n    console.log(\"hBruteN           \" + hBruteN)\r\n    console.log(\"trancheL          \" + trancheL)\r\n    console.log(\"tauxL             \" + tauxL)\r\n    console.log(\"heritageMutualiseTotal \" + heritageMutualiseTotal )\r\n    hNext = hBruteN - contrDebutTranche - (hBruteN - trancheL) * tauxL / 100;\r\n    console.log(\"hNext             \" + hNext)\r\n        \r\n    heritageNew.push({x: xNext, h: hNext});\r\n    iHeritageBrute ++;\r\n    };\r\n\r\n    var heritageNewPlusMutuel: IHeritage[] = [];\r\n    for (let xh  of heritageNew){\r\n        heritageNewPlusMutuel.push({x: xh.x, h: xh.h + heritageMutualiseTotal})\r\n    }\r\n    return({ \r\n        heritageMutualiseTotal: heritageMutualiseTotal,\r\n        heritageNet: heritageNewPlusMutuel\r\n    });\r\n\r\n}\r\n\r\n// Create a React Context. Use an empty object as a default value, since\r\n// the intent is to only use the Provider in the StateContainer. Cast\r\n// this object to a IContext to prevent typescript from complaining.\r\nconst StateContext = React.createContext<IContext>({} as IContext);\r\n\r\nclass StateContainer extends React.PureComponent<{}, IState> {\r\n  constructor(state: IState){\r\n    super(state);\r\n    var ret: IReturn = updateHeritage(initialTodos, heritageBruteData)\r\n    this.state = {\r\n      todos: initialTodos,\r\n      trancheAdd: 0,\r\n      tauxAdd: 0,\r\n      errormessage: \" \",\r\n      heritageBrute: heritageBruteData,\r\n      heritageNet: ret.heritageNet,\r\n      heritageMutualiseTotal: ret.heritageMutualiseTotal,\r\n      ratioPartDeces: ratioPartDecesIni \r\n    };\r\n  }\r\n\r\n  \r\n  updateHeritageNet = () => {\r\n      this.setState(state => {\r\n          var ret: IReturn = updateHeritage(state.todos, state.heritageBrute)\r\n          this.setState({heritageNet: ret.heritageNet,\r\n                         heritageMutualiseTotal: ret.heritageMutualiseTotal\r\n          })\r\n      })\r\n   };\r\n\r\n  deleteTodo = (id: number) => {\r\n    // Use immer's produce for an immutable state update.\r\n    this.setState(\r\n      produce<IState>(state => {\r\n        const index = state.todos.findIndex(todo => todo.id === id);\r\n        state.todos.splice(index, 1);\r\n      })\r\n    );\r\n    this.updateHeritageNet()\r\n  };\r\n\r\n  addTodo = () => {\r\n    // Generate a new Todo using nextId (and increment it) and reset\r\n    // textAdd (the text in the input field)\r\n    this.setState(prevState => {\r\n      const todo: ITodo = {\r\n        id: nextId++,\r\n        tranche: this.state.trancheAdd,\r\n        taux: this.state.tauxAdd,\r\n      };\r\n      console.log(\"coucou\")      \r\n      var entryOk = true;\r\n      var errormessageloc = \" \"\r\n      //we fist check if the entry is valid\r\n      for (let olddo  of prevState.todos){\r\n        if (olddo.taux === todo.taux) {entryOk = false;\r\n                                       errormessageloc = \"il ne peut pas y avoir deux taux égaux\"}\r\n        if (olddo.tranche === todo.tranche) {entryOk = false;\r\n                                             errormessageloc = \"il ne peut pas y avoir deux limites de tranche égales\"}\r\n        if (olddo.tranche > todo.tranche && olddo.taux < todo.taux) \r\n            {entryOk = false;\r\n             errormessageloc = \"le taux doit croitre avec les tranche\"};\r\n        if (olddo.tranche < todo.tranche && olddo.taux > todo.taux) \r\n            {entryOk = false;\r\n             errormessageloc = \"le taux doit croitre avec les tranche\"};\r\n      }\r\n      var sortedTodo: ITodo[] = prevState.todos\r\n      if (entryOk) {\r\n      sortedTodo = [todo, ...prevState.todos]\r\n      sortedTodo.sort((leftSide, rightSide): number => {\r\n          if (leftSide.tranche < rightSide.tranche) return -1;\r\n          if (leftSide.tranche > rightSide.tranche) return 1;\r\n          return 0;\r\n          });\r\n      }     \r\n      \r\n      if (entryOk) {\r\n      \r\n      this.setState({\r\n        todos: sortedTodo,\r\n        trancheAdd: 0,\r\n        tauxAdd: 0,\r\n        errormessage: \"\"})\r\n      this.updateHeritageNet()  \r\n      } else {\r\n       this.setState({todos: prevState.todos,\r\n        trancheAdd: 0,\r\n        tauxAdd: 0,\r\n        errormessage: errormessageloc})\r\n        };       \r\n    });\r\n    \r\n  };\r\n\r\n  changeAddEntry = (tranche: number) => {\r\n    this.setState({ trancheAdd: tranche });\r\n  };\r\n\r\n  changeRatio = (ratio: number) => {\r\n    this.setState({ ratioPartDeces: ratio });\r\n  };\r\n\r\n  changeAddTaux = (taux: number) => {\r\n    this.setState({ tauxAdd: taux });\r\n  };\r\n    \r\n    \r\n  render() {\r\n    // Build the context object with the cotainer state and all the\r\n    // implementations of the selectors and actions.\r\n    const context = {\r\n      state: this.state,\r\n      actions: {\r\n        deleteTodo: this.deleteTodo,\r\n        addTodo: this.addTodo,\r\n        changeAddEntry: this.changeAddEntry,\r\n        changeAddTaux: this.changeAddTaux,\r\n        changeRatio: this.changeRatio\r\n      }\r\n    };\r\n\r\n    // Pass the contet object as a value of the Context Provider. Then\r\n    // render any children below it.\r\n    return (\r\n      <StateContext.Provider value={context}>\r\n        {this.props.children}\r\n      </StateContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StateContainer;\r\nexport const StateConsumer = StateContext.Consumer;\r\n","import * as React from \"react\";\r\nimport { ITodo } from \"./types\";\r\n\r\nexport interface IProps {\r\n  todos: Array<ITodo>;\r\n  ratioPartDeces: number;\r\n  handleDelete: (id: number) => void;\r\n  handleRatioChange: (ratio: number) => void;\r\n}\r\n\r\n\r\nconst TodoList: React.SFC<IProps> = props => {\r\n   //var todosToSend: ITodos ;\r\n   //todosToSend= {todoData: props.todos};\r\n   return (\r\n   <div>\r\n    <div >\r\n      <table>\r\n           <col width=\"50%\"/>\r\n           <col width=\"25%\"/>\r\n           <col width=\"25%\"/>\r\n        <thead>\r\n          <tr>\r\n            <th>Début tranche (€)</th>\r\n            <th>Taux (%)</th>\r\n            <th>Enlever</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>        \r\n        {props.todos.map(todo => (\r\n            <tr key={todo.id}>\r\n                <td>{todo.tranche}</td>\r\n                <td>{todo.taux}</td>\r\n                <td> \r\n                    <button \r\n                        type=\"button\" \r\n                        onClick={() => {props.handleDelete(todo.id)}}\r\n                    >\r\n                    Enlever\r\n                    </button>\r\n                </td>\r\n            </tr>          \r\n        ))}\r\n        </tbody>\r\n      </table>\r\n\r\n    </div>\r\n    <div>\r\n      <table>\r\n       <thead>\r\n          <tr>  \r\n           <th>\r\n            Ratio entre le nombre de parts distribuées et le nombre de décès.\r\n            <span \r\n             title=\"Afin de faire diminuer progressivement l'âge auquel les citoyens peuvent toucher leur part\r\nd'héritage mutualisé, il est nécessaire de distribuer un nombre de parts d'héritage plus grand\r\ngrand que le nombre de décès.\r\nPlus ce ratio est grand, plus petit est le montant d'une part d'héritage mutualisé mais plus \r\nrapidement l'âge minimal auquel les citoyens peuvent toucher leur part d'héritage mutualisé\r\ndiminue rapidement.\r\nEn première approximation, on peut considérer que cet âge diminue chaque année de \r\n(x - 1) années où x est le ratio choisi.\"\r\n            >\r\n             <dt>\r\n             En savoir plus.\r\n             </dt>\r\n            </span>\r\n            </th>\r\n          </tr>    \r\n       </thead>  \r\n       <tbody>      \r\n        <input\r\n              type=\"number\"\r\n              step=\"0.1\"\r\n              value={props.ratioPartDeces}\r\n              onChange={e => props.handleRatioChange(e.target.valueAsNumber)}\r\n              min=\"1\"\r\n              max=\"10\"\r\n              width=\"4\"              \r\n        />\r\n       </tbody>          \r\n      </table>\r\n    </div>\r\n   </div>\r\n  );\r\n};\r\n\r\nexport default TodoList;\r\n","import * as React from \"react\";\r\n\r\nimport { StateConsumer } from \"./StateContainer\";\r\nimport TodoList from \"./TodoList\";\r\n\r\nexport default () => (\r\n  <StateConsumer>\r\n    {({state,  actions }) => (\r\n      <TodoList\r\n        todos={state.todos}\r\n        handleDelete={actions.deleteTodo}\r\n        ratioPartDeces={state.ratioPartDeces}\r\n        handleRatioChange={actions.changeRatio}\r\n      />\r\n    )}\r\n  </StateConsumer>\r\n);\r\n","import * as React from \"react\";\r\n\r\ninterface IProps {\r\n  tranche: number;\r\n  taux: number;\r\n  handleChange: (tranche: number) => void;\r\n  handleChangeTaux: (taux: number) => void;\r\n  handleSubmit: () => void;\r\n  errormessage: string;\r\n}\r\n\r\nconst TodoInput: React.SFC<IProps> = props => (\r\n    <div>\r\n        <table>\r\n           <col width=\"50%\"/>\r\n           <col width=\"25%\"/>\r\n           <col width=\"25%\"/>\r\n          <thead>\r\n          <tr>\r\n            <th>Début tranche (€)</th>\r\n            <th>Taux (%)</th>\r\n\r\n          </tr>\r\n        </thead>\r\n        <tbody>        \r\n        <tr>            \r\n          <td>\r\n            <input\r\n              type=\"number\"\r\n              step=\"10000\"\r\n              value={props.tranche}\r\n              onChange={e => props.handleChange(e.target.valueAsNumber)}\r\n            />\r\n           </td>\r\n           <td> \r\n            <input\r\n              type=\"number\"\r\n              min=\"0\"\r\n              max=\"100\"\r\n              step=\"5\"\r\n              value={props.taux}\r\n              onChange={e => props.handleChangeTaux(e.target.valueAsNumber)}\r\n            />\r\n           </td>\r\n           <td>\r\n              <button \r\n                onClick={() => {props.handleSubmit()}}\r\n              >Ajouter\r\n              </button>\r\n           </td>\r\n        </tr>\r\n        </tbody>\r\n        </table>\r\n        <div>{props.errormessage}</div>\r\n    </div>\r\n    \r\n\r\n);\r\n\r\nexport default TodoInput;\r\n","import * as React from \"react\";\r\n\r\nimport { StateConsumer } from \"./StateContainer\";\r\nimport TodoInput from \"./TodoInput\";\r\n\r\nexport default () => (\r\n  <StateConsumer>\r\n    {({ state, actions }) => (\r\n      <TodoInput\r\n        tranche={state.trancheAdd}\r\n        taux={state.tauxAdd}\r\n        handleChange={actions.changeAddEntry}\r\n        handleChangeTaux={actions.changeAddTaux}\r\n        handleSubmit={actions.addTodo}\r\n        errormessage={state.errormessage}\r\n      />\r\n    )}\r\n  </StateConsumer>\r\n);\r\n","import * as React from \"react\";\r\nimport Plot from 'react-plotly.js';\r\nimport { ITodo } from './types';\r\n\r\nexport interface ITodos{\r\n    todoData: Array<ITodo>,\r\n    heritageMutualiseTotal: number,\r\n    ratioPartDeces: number\r\n}\r\nclass Figure extends React.Component<ITodos , {}> {\r\n\r\n      \r\n    \r\n  public render() {\r\n    var xvalue: number[] = [0];\r\n    var yvalue: number[] = [0];\r\n    var yvalue2: number[] = [this.props.heritageMutualiseTotal / this.props.ratioPartDeces];\r\n    var contribution: number = 0;\r\n    var itranche: number = 0;\r\n    const taux: Array<number> = [];\r\n    const tranches: Array<number> = [];\r\n    for (let todo of this.props.todoData){\r\n        taux.push(todo.taux)\r\n        tranches.push(todo.tranche)\r\n    }\r\n    const xMax: number = Math.max(2000000, 2 * tranches[tranches.length - 1]);\r\n    itranche = 0;\r\n    contribution = 0;\r\n    var tauxPrec: number = 0;\r\n    var tranchePrec: number = 0;\r\n    for (let tr of tranches){\r\n        contribution += tauxPrec / 100 * (tr - tranchePrec)\r\n        tauxPrec = taux[itranche];\r\n        tranchePrec = tr;\r\n        itranche += 1;\r\n        xvalue.push(tr)\r\n        yvalue.push(tr - contribution)\r\n        yvalue2.push(tr - contribution + this.props.heritageMutualiseTotal / this.props.ratioPartDeces)\r\n    }\r\n    xvalue.push(xMax)\r\n    contribution += tauxPrec / 100 * (xMax - tranchePrec)\r\n    yvalue.push(xMax - contribution)\r\n    yvalue2.push(xMax - contribution + this.props.heritageMutualiseTotal / this.props.ratioPartDeces)\r\n    return (\r\n      <Plot\r\n        data={[\r\n          {\r\n            x: xvalue,\r\n            y: yvalue2,\r\n            type: 'scatter',\r\n            mode: 'lines',\r\n            marker: {color: 'blue'},\r\n            name: \"Héritage net total <br> (filial + mutualisé)\"\r\n          },    \r\n          {\r\n            x: xvalue,\r\n            y: yvalue,\r\n            type: 'scatter',\r\n            mode: 'lines',\r\n            marker: {color: 'black'},\r\n            name: \"Héritage filial net\" \r\n          }\r\n        ]}\r\n        style={{ width: '100%', height: '40%' }}\r\n        layout={{\r\n              autosize: true, title: 'Montant herité VS montant héritage filial brut'\r\n            }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Figure","import * as React from \"react\";\r\nimport Plot from 'react-plotly.js';\r\nimport { IHeritage } from './types';\r\n\r\nexport interface ITodos{\r\n    hBrute: Array<IHeritage>,\r\n    hNet: Array<IHeritage>,\r\n    hMut: number,\r\n    ratioPartDeces: number\r\n}\r\nclass FigureDistribution extends React.Component<ITodos , {}> {\r\n\r\n      \r\n  public render() {\r\n    var xvalue: number[] = [];\r\n    var yvalue: number[] = [];\r\n    var xvalue2: number[] = [];\r\n    var yvalue2: number[] = [];\r\n    var yvalue3: number[] = [];\r\n    for (let heritage of this.props.hBrute){\r\n        xvalue.push(heritage.x)\r\n        yvalue.push(heritage.h)\r\n    }    \r\n    for (let heritage of this.props.hNet){\r\n        xvalue2.push(heritage.x)\r\n        yvalue2.push(heritage.h)\r\n        yvalue3.push(heritage.h + this.props.hMut * (1. / this.props.ratioPartDeces - 1.))\r\n    }    \r\n    return (\r\n      <Plot\r\n        data={[\r\n          {\r\n            x: xvalue,\r\n            y: yvalue,\r\n            type: 'scatter',\r\n            mode: 'lines',\r\n            marker: {color: 'red'},\r\n            name: 'Distribution actuelle'\r\n          },\r\n//          {\r\n//            x: xvalue2,\r\n//            y: yvalue2,\r\n//            type: 'scatter',\r\n//            mode: 'lines',\r\n//            marker: {color: 'green'},\r\n//            name: \"Distribution partiellement mutualisée <br> autant de parts que de décès\"\r\n//          },\r\n          {\r\n            x: xvalue2,\r\n            y: yvalue3,\r\n            type: 'scatter',\r\n            mode: 'lines',\r\n            marker: {color: 'blue'},\r\n            name: \"Distribution partiellement mutualisée\" //<br> 1,5 fois plus de parts que de décès\"\r\n          }\r\n            ]}\r\n        style={{ width: '100%', height: '40%' }}\r\n        layout={{\r\n              autosize: true, title: \"Distribution de l'héritage\", \r\n              xaxis: {fixedrange: true, range: [0, 100]},\r\n              yaxis: {fixedrange: false, range: [0, 1400000],title: 'Montant héritage (€)'}\r\n            }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default FigureDistribution","import * as React from 'react';\r\nimport { StateConsumer } from './StateContainer';\r\n\r\nimport TodoListContainer from './TodoListContainer';\r\nimport TodoInputContainer from './TodoInputContainer';\r\nimport Figure from './Figure';\r\nimport FigureDistribution from './FigureDistribution';\r\n\r\nexport default () => (\r\n <div>\r\n  <div className=\"third-container\">\r\n    <h3>\r\n    Choisissez les taux de mutualisation\r\n    </h3>\r\n    <TodoInputContainer />\r\n    <TodoListContainer />\r\n  </div>\r\n  <div className=\"two-third-container\">\r\n    <h3>\r\n    Visualisez les conséquences sur la distribution de l'héritage\r\n    </h3>\r\n    <StateConsumer>\r\n       {({state, actions }) => (\r\n        <div>\r\n         <h5> \r\n         - Une part d'héritage mutualisé serait  \r\n         de {Math.round(state.heritageMutualiseTotal / state.ratioPartDeces)} euros.\r\n         </h5>\r\n         <h5>\r\n         - A l'échelle nationale, l'héritage mutualisé \r\n         représenterait {Math.round(state.heritageMutualiseTotal / 390000 * 1000) / 10} \r\n         % de l'héritage total. \r\n         </h5>\r\n        </div>\r\n        )}\r\n    </StateConsumer>\r\n    <StateConsumer>\r\n       {({state, actions }) => (\r\n<FigureDistribution \r\n   hBrute={state.heritageBrute} \r\n   hNet={state.heritageNet} \r\n   hMut={state.heritageMutualiseTotal} \r\n   ratioPartDeces={state.ratioPartDeces}\r\n/>)}\r\n    </StateConsumer>\r\n    <StateConsumer>\r\n        {({state, actions }) => (\r\n        <Figure \r\n            todoData={state.todos} \r\n            heritageMutualiseTotal={state.heritageMutualiseTotal}\r\n            ratioPartDeces={state.ratioPartDeces}\r\n        />)}\r\n    </StateConsumer>\r\n  </div>\r\n </div>\r\n);\r\n","import * as React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { IProduct, products } from \"./ProductsData\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"url-search-params-polyfill\";\r\nimport StateContainer from \"./StateContainer\";\r\nimport App from \"./App\";\r\n\r\ninterface IState {\r\n  products: IProduct[];\r\n  search: string;\r\n}\r\n\r\nclass ProductsPage extends React.Component<RouteComponentProps, IState> {\r\n  public static getDerivedStateFromProps(\r\n    props: RouteComponentProps,\r\n    state: IState\r\n  ) {\r\n    const searchParams = new URLSearchParams(props.location.search);\r\n    const search = searchParams.get(\"search\") || \"\";\r\n    return {\r\n      products: state.products,\r\n      search\r\n    };\r\n  }\r\n\r\n  public constructor(props: RouteComponentProps) {\r\n    super(props);\r\n    this.state = {\r\n      products: [],\r\n      search: \"\"\r\n    };\r\n  }\r\n\r\n  public componentDidMount() {\r\n    this.setState({ products });\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n  <StateContainer>\r\n    <App />\r\n  </StateContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProductsPage;\r\n","import * as React from \"react\";\r\n\r\nconst NotFoundPage: React.SFC = () => {\r\n  return (\r\n    <div className=\"page-container\">\r\n      <h1>Sorry, this page cannot be found</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFoundPage;\r\n","import * as React from \"react\";\r\nimport Plot from 'react-plotly.js';\r\nimport { IHeritage } from '../types';\r\nimport {heritageBruteData} from '../StateContainer';\r\n\r\n\r\n\r\nclass FigureDistributionBrute extends React.Component {\r\n      \r\n  public render() {      \r\n    var xvalue: number[] = [];\r\n    var yvalue: number[] = [];\r\n    for (let heritage of heritageBruteData){\r\n        xvalue.push(heritage.x)\r\n        yvalue.push(heritage.h)\r\n    }    \r\n    xvalue.push(100)\r\n    yvalue.push(16000000000)\r\n    \r\n    return (\r\n      <Plot\r\n        data={[\r\n          {\r\n            x: xvalue,\r\n            y: yvalue,\r\n            type: 'scatter',\r\n            mode: 'lines',\r\n            marker: {color: 'red'},\r\n            name: 'Distribution actuelle'\r\n          }\r\n\r\n            ]}\r\n        style={{ width: '50%', height: '40%' }}\r\n        layout={{\r\n              autosize: true, title: \"Distribution de l'héritage\", \r\n              xaxis: {fixedrange: true, range: [0, 100]},\r\n              yaxis: {fixedrange: false, range: [0, 1400000],title: 'Montant héritage (€)'}\r\n            }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default FigureDistributionBrute\r\n","import * as React from \"react\";\r\nimport Plot from 'react-plotly.js';\r\nimport { IHeritage } from '../types';\r\nimport {heritageBruteData, initialTodos, updateHeritage, IReturn, ratioPartDecesIni } from '../StateContainer';\r\n\r\nclass FigureDistribution extends React.Component {\r\n\r\n      \r\n  public render() {\r\n    var ret: IReturn = updateHeritage(initialTodos, heritageBruteData)\r\n    var heritageNet:IHeritage[] =  ret.heritageNet\r\n    var heritageMutualiseTotal: number = ret.heritageMutualiseTotal\r\n    var xvalue: number[] = [];\r\n    var yvalue: number[] = [];\r\n    var xvalue2: number[] = [];\r\n    var yvalue2: number[] = [];\r\n      \r\n    for (let heritage of heritageBruteData){\r\n        xvalue.push(heritage.x)\r\n        yvalue.push(heritage.h)\r\n    }    \r\n    xvalue.push(100)\r\n    yvalue.push(16000000000)\r\n\r\n    for (let heritage of heritageNet){\r\n        xvalue2.push(heritage.x)\r\n        yvalue2.push(heritage.h  + heritageMutualiseTotal * (1. / ratioPartDecesIni  - 1.))\r\n    }    \r\n      \r\n    //xvalue2.push(100)\r\n    //yvalue2.push(16000000000.*(100-initialTodos[-1].taux)/100)\r\n      \r\n    return (\r\n      <Plot\r\n        data={[\r\n          {\r\n            x: xvalue,\r\n            y: yvalue,\r\n            type: 'scatter',\r\n            mode: 'lines',\r\n            marker: {color: 'red'},\r\n            name: 'Distribution actuelle'\r\n          },\r\n          {\r\n            x: xvalue2,\r\n            y: yvalue2,\r\n            type: 'scatter',\r\n            mode: 'lines',\r\n            marker: {color: 'blue'},\r\n            name: \"Distribution avec une mutualisation\" //<br> 1,5 fois plus de parts que de décès\"\r\n          }        \r\n\r\n            ]}\r\n        style={{ width: '75%', height: '40%' }}\r\n        layout={{\r\n              autosize: true, title: \"Distribution de l'héritage\", \r\n              xaxis: {fixedrange: true, range: [0, 100]},\r\n              yaxis: {fixedrange: false, range: [0, 1400000],title: 'Montant héritage (€)'}\r\n            }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default FigureDistribution\r\n","import * as React from \"react\";\r\nimport {StateConsumer, initialTodos} from '../StateContainer'\r\nimport FigureDistributionBrute from './FigureDistributionBrute'\r\nimport FigureDistribution from './FigureMutualisee'\r\nimport axios from \"axios\";\r\nimport { NavLink} from \"react-router-dom\";\r\n\r\nclass AccueilPage extends React.Component {\r\n  viewHandler = async () => {\r\n    axios(`http://localhost:4000/pdf`, {\r\n      method: \"GET\",\r\n      responseType: \"blob\"\r\n      //Force to receive data in a Blob Format\r\n    })\r\n      .then(response => {\r\n        //Create a Blob from the PDF Stream\r\n        const file = new Blob([response.data], {\r\n          type: \"application/pdf\"\r\n        });\r\n        //Build a URL from the file\r\n        const fileURL = URL.createObjectURL(file);\r\n        //Open the URL on new Window\r\n        window.open(fileURL);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n\r\n    render(){\r\n        return(\r\n        <div className=\"blocktext\">\r\n            <h3>\r\n            Repensons (les modes de transmission de) l'héritage?\r\n            </h3>\r\nCette page fait un résumé des inégalités résultant du mode actuel de transmission de l'héritage et présente le principe d'une mutualisation partielle de l'héritage.\r\nPour des informations plus détaillées (incluant notamment les références) veuillez télécharger le document suivant:\r\n      <div>\r\n        <button onClick={this.viewHandler}> Télécharger le document détaillé </button>{\" \"}\r\n      </div> \r\n            <h4>\r\n            Définitions et remarques   \r\n            </h4>\r\n<ul>\r\n <li>                \r\n  Les <b>modes de transmission de l'héritage</b> sont les moyens qui permettent de transférer du patrimoine d'une personne à une autre sans contrepartie. \r\n  La grande majorité de l'héritage est actuellement transmis en ligne direct (i.e. entre parent et enfants).\r\n  En France, il y a deux modes principaux de transmission de l'héritage, la <b>donation</b> et la <b>succession</b>. \r\n </li>               \r\n <li>                 \r\n  La <b>succession</b> est une transmission du patrimoine d’une personne décédée à une ou plusieurs personnes vivantes.\r\n </li>               \r\n <li>                 \r\n\r\n  La <b>donation</b> est une transmission d’une partie du patrimoine d’une personne vivante à une ou plusieurs personnes.\r\n </li>\r\n <li>\r\n  Le patrimoine d’une personne est constitué de l’ensemble de ses biens et de ses obligations, appréciables en argent, et dans lequel entrent les actifs (valeurs, créances) et les passifs (dettes, engagements). \r\n </li>           \r\n</ul>\r\n      \r\nEn France, les taxes sur les successions et sur les donations sont en moyenne inférieures à 6%.\r\n\r\n            <h4>\r\n            Pourquoi repenser les modes de transmission de l'héritage?\r\n            </h4>\r\nIl est nécessaire de repenser et de transformer les modes de transmission de l'héritage car :\r\n<ul>\r\n  <li> l'héritage est important dans la vie des citoyens français: il représente en moyenne environ 20 % de leur revenu total</li>\r\n  <li> le mode actuel de transmission de l'héritage présente deux défauts majeurs:\r\n    <ul>\r\n  <li> l'héritage est très inégalement redistribué. <i> Voir la section suivante </i></li>\r\n  <li> les citoyens bénéficient de leur héritage relativement tard dans leur vie: l'âge moyen auquel les français touchent une succession est d'environ 50 ans </li>\r\n    </ul>\r\n  </li>\r\n  <li> des alternatives sont possibles</li> \r\n</ul>\r\n            <h4>\r\n            Estimation des inégalités face à l'héritage.\r\n            </h4>\r\n        \r\nLa figure suivante représente une estimation de la distribution des héritages en France. \r\n   <i> Lecture : 50% de la population française héritera de moins de 150 289 euros, 50% héritera de plus. </i>  \r\n<FigureDistributionBrute />\r\n  <div>     \r\n<b> Avertissement :</b> estimer la distribution de l'héritage est un exercice complexe. \r\nCette figure est obtenue à partir d'une modélisation. Il est légitime de questionner à la fois les sources sur lesquelles s'appuie cette modélisation ainsi que les hypothèses simplificatrices qui sont faites.\r\n\r\nNéenmoins, cette distribution est, à ma connaissance, la plus fiable et permet de se faire une bonne idée sur l'ordre de grandeur des inégalités face à l'héritage. \r\n  </div>         \r\n<b>Quelques remarques sur cette distribution de l'héritage:</b> \r\n  <ul>\r\n    <li> 10% de la population héritera de moins de 1100 euros </li>\r\n    <li> 20% de la population héritera de moins de 13 000 euros </li>\r\n    <li> 15% de la population héritera de plus de 622 000 euros ce qui corresponds à plus que ce que touche un salarié rémunéré au SMIC sur l'ensemble d'une carrière de 45 ans. </li>\r\n    <li> Il n'y a pas de limite théorique au montant dont un individu peut hériter. On peut néanmoins estimer que chacun des enfants de Bernard Arnaud héritera d'environ 16 milliard d'euros. \r\nAJOUTER UNE COMPARAISON.\r\n    </li> \r\n    \r\n  </ul>\r\nLes inégalités présentées précédemment sont amplifiées par les facteurs suivants:\r\n  <ul>\r\n    <li> en moyenne, plus une personne bénéficie d'un héritage conséquent plus son salaire est important. Cela s'explique en partie par le fait que les personnes qui transmettent un héritage important à leurs enfants ont généralement été en mesure de les aider financièrement pendant leurs études.</li>\r\n    <li> un héritage peut rapporter un revenu fixe. Quelqu'un qui hérite d'un appartement peut par exemple le louer et en obtenir un revenu.</li>\r\n    \r\n  </ul>          \r\n\r\n            <h4>\r\n            Et si on mutualisait une partie de l'héritage?    \r\n            </h4>\r\n<div>Il est possible de réformer les modes de transmission de l'héritage afin de diminuer les inégalités.\r\n</div> \r\nOn pourrait par exemple utiliser le principe de mutualisation-redistribution suivant. \r\n        <h5> Mutualisation </h5>\r\n        \r\nA chaque fois qu'une personne bénéficie d'un héritage par donation ou succession, \r\nla valeur de l'héritage est estimée et le bénéficiaire doit s'acquiter d'un montant proportionnel à cette valeur selon un taux de mutualisation fixé légalement. \r\nCe taux de mutualisation dépend uniquement de la valeur cumulée de l'ensemble des héritages dont cette personne a bénéficiée au court de sa vie et augmente progressivement par tranche.   \r\nAfin d'illustrer le principe, je propose les taux suivants.  Après un abattement de 100 000 euros, le taux sur les tranches supplémentaires augmenterait progressivement de 20% à 95% tel que présenté dans le tableau suivant (<i>le principe de  mutualisation par tranche peut être illustrée par l'exemple \r\n<span title=\" A 30 ans Paul bénéficie pour la première fois d'une donation de 80 000 euros. Ce montant étant inférieur à 100 000 euros, il ne contribue pas à la mutualisation et touche l'intégralité des 80 000 euros. Cinq ans plus tard, il bénéficie encore d'une donation de 80 000 euros brut. Le montant cumulé brut dont il a bénéficié est de 160 000 euros. Ce montant dépasse la première tranche de 60 000 euros. Il y a un taux de mutualisation de 20% dans cette tranche, il doit donc contribuer à la mutualisation de l'héritage à hauteur de 12 000 euros. Le montant net qu'il recevra suite à cette deuxième donation sera donc de 68 000 euros. Quelques années plus tard, il bénéficie d'une succession de 300 000 euros. Le montant cumulé qu'il avait perçu précédemment était de 160 000 euros. Il doit donc s'affranchir d'un taux de 20% sur 90 000 pour compléter la première tranche (fin de tranche à 250 000 euros), puis d'un taux de 40% sur les 210 000 euros suivant. Il doit donc contribuer à la mutualisation de l'héritage à hauteur de 90 000 x 0,2 + 210 000 x 0,4 = 91 200 euros.\"> <dt> suivant. </dt> </span>\r\n</i>):\r\n   <div>     \r\n    <div className=\"third-container-no-border\">\r\n      <table >\r\n           <col width=\"70%\"/>\r\n           <col width=\"30%\"/>\r\n        <thead>\r\n          <tr>\r\n            <th>Début tranche (€)</th>\r\n            <th>Taux (%)</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>        \r\n            <tr key={initialTodos[0].id}>\r\n                <td>{initialTodos[0].tranche}</td>\r\n                <td>{initialTodos[0].taux}</td>\r\n            </tr>          \r\n            <tr key={initialTodos[1].id}>\r\n                <td>{initialTodos[1].tranche}</td>\r\n                <td>{initialTodos[1].taux}</td>\r\n            </tr>  \r\n            <tr key={initialTodos[2].id}>\r\n                <td>{initialTodos[2].tranche}</td>\r\n                <td>{initialTodos[2].taux}</td>\r\n            </tr>  \r\n            <tr key={initialTodos[3].id}>\r\n                <td>{initialTodos[3].tranche}</td>\r\n                <td>{initialTodos[3].taux}</td>\r\n            </tr>  \r\n            <tr key={initialTodos[4].id}>\r\n                <td>{initialTodos[4].tranche}</td>\r\n                <td>{initialTodos[4].taux}</td>\r\n            </tr>  \r\n        </tbody>\r\n      </table>\r\n    </div>\r\n   </div>\r\nJe précise également que cette contribution à la mutualisation remplace les taxes sur les successions et donations qui existent actuellement. \r\nAfin de ne pas faire de trou dans le budget de l'état, un montant équivalent à ce qui est acutuellement perçu sur les taxes sur les donations et succession est prélevé par l'état dans la caisse nationale des héritages.\r\nL'argent ainsi récolté alimente la caisse nationale des héritages. \r\n\r\n        <h5> Redistribution</h5>\r\nA la fin de chaque année fiscale, l'argent ainsi accumulé est divisé en parts et redistribué. \r\nLe nombre de parts distribuées est proportionnel au nombre de décès. \r\nChaque citoyen peut à partir de sa majorité demander quand il le souhaite à toucher sa part d'héritage. Il ne peut toucher qu'une seule part au court de sa vie. Il peut demander à toucher sa part intégralement en une fois ou il peut demander à la toucher en plusieurs fois.\r\n\r\nA la mise en place d'une telle réforme, la majorité des citoyens n'ont pas encore touché leur part d'héritage. \r\nIl y aurait donc initialement bien plus de demandeurs que de parts disponibles. \r\nLes demandeurs sont sélectionnés en commencant par les plus âgés jusqu'à ce que toutes les parts disponibles soient distribuées.\r\nLes demandeurs restants ne peuvent pas toucher leur part d'héritage cette année là et doivent renouveler leur demande ultérieurement.\r\n        \r\nAfin de faire dimininuer progressivement l'âge moyen auquel les gens peuvent toucher leur part d'héritage mutualisé, \r\nle nombre de parts distribuées serait initialement suppérieur au nombre de décès. \r\nOn peut par exemple fixer le nombre de parts à 1,5 fois le nombre de décès ce qui permet de faire dimininuer chaque année \r\n        d'environ 6 mois l'âge moyen auquel les citoyens peuvent toucher leur part d'héritage mutualisé. \r\n\r\nA long terme, pour une population stable, il y aurait en moyenne autant de demandeurs que de décès et il y aurait autant de parts distribuées que de demandeurs.\r\n\r\n\r\n<h5> Conséquences sur la distribution de l'héritage </h5>\r\nLa figure suivante présente la distribution actuelle de l'héritage (rouge) ainsi que celle résultant d'une telle réforme (bleu).\r\nAvec les taux de mutualisation proposés, l'héritage mutualisé représenterait environ 50% de l'héritage totale.\r\nOn estime qu'une part d'héritage mutualisée serait d'environ 130 000 euros. \r\nCette réforme serait bénéficiaire pour plus de 80% des citoyens (puisque la valeur d'une part d'héritage mutualisée serait plus importante que leur contribution à la mutualisation).\r\n<FigureDistribution />        \r\n\r\n<h5> Fixons collectivement les taux de mutualisation</h5> \r\n\r\nIl y a deux aspirations fondamentales et antagonistes face au choix du mode de transmission de l'héritage.\r\nIl y a d'un côté une aspiration au maintien du patrimoine dans le cercle familial et de l'autre une aspiration à l'égalité entre citoyens. Nous sommes actuellement dans un système qui favorise très largement la première aspiration au détriment de la deuxième. \r\nEn ajustant les taux de mutualisation on peut trouver un \"équilibre\" entre ces deux aspirations.\r\nLes taux que j'ai proposés ici permettent selon moi d'avoir un tel équilibre, mais personne n'a la légitimité de fixer seul cet équilibre.                 \r\nIl est nécessaire d'avoir un débat afin de fixer collectivement les taux de mutualisation.\r\nAfin que chacun puisse se faire sa propre idée sur les taux de mutualisation qui lui semblent juste, \r\nun simulateur permettant de calculer la distribution de l'héritage en fonction des taux de mutualisation est mis à votre disposition ici:\r\n        \r\n<nav>\r\n    <NavLink\r\n      to=\"/simulation\"\r\n      //className=\"header-link\"\r\n      //activeClassName=\"header-link-active\"\r\n    >\r\n    Lien vers le simulateur\r\n    </NavLink>\r\n</nav>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n         \r\nexport default AccueilPage;\r\n","import * as React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass Biblio extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"blocktext\">\r\nVoici une liste de lecture ????\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Biblio;\r\n","import * as React from \"react\";\r\n\r\n// @ts-ignore\r\nimport { Suspense } from \"react\";\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Redirect,\r\n  Route,\r\n  RouteComponentProps,\r\n  Switch\r\n} from \"react-router-dom\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\n\r\nimport Header from \"./Header\";\r\nconst AdminPage = React.lazy(() => import(\"./AdminPage\"));\r\nimport SimulationPage from \"./SimulationPage\";\r\nimport NotFoundPage from \"./NotFoundPage\";\r\nimport AccueilPage from \"./accueil/AccueilPage\";\r\nimport Biblio from \"./Biblio/Biblio\";\r\n\r\nconst RoutesWrap: React.SFC = () => {\r\n  return (\r\n    <Router>\r\n      <Route component={Routes} />\r\n    </Router>\r\n  );\r\n};\r\n\r\nconst Routes: React.SFC<RouteComponentProps> = props => {\r\n  const [loggedIn, setLoggedIn] = React.useState(true);\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <TransitionGroup>\r\n        <CSSTransition\r\n          key={props.location.key}\r\n          timeout={500}\r\n          classNames=\"animate\"\r\n        >\r\n          <Switch>\r\n            <Redirect exact={true} from=\"/\" to=\"/accueil\" />\r\n            <Route exact={true} path=\"/simulation\" component={SimulationPage} />\r\n            <Route exact={true} path=\"/accueil\" component={AccueilPage} />\r\n            <Route exact={true} path=\"/biblio\" component={Biblio} />\r\n            <Route component={NotFoundPage} />\r\n          </Switch>\r\n        </CSSTransition>\r\n      </TransitionGroup>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoutesWrap;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport Routes from \"./Routes\";\r\n\r\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}